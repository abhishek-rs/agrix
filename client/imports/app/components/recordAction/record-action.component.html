
<top-bar [title]="compName"></top-bar>

<div id="pest-form">
<div id="map">
<h3 *ngIf="processing">Loading map....</h3>  

<sebm-google-map *ngIf="!processing" [latitude]="centerLat" [longitude]="centerLong">
<sebm-google-map-marker *ngIf="published" [latitude]="formdata.lat" [longitude]="formdata.long" iconUrl="/images/weed_map.png"></sebm-google-map-marker> 
</sebm-google-map>
</div>

<div *ngIf="cleared" id="afterPublish">
<p>Cleared Successfully!</p>
<img src="/images/Success_icon.png"/>
</div>


<div *ngIf="published" id="afterPublish">
<p>Saved Successfully!</p>
<img src="/images/Success_icon.png"/>
<div id="buttons">
<span><a (click)="clicked(1)">See what others did</a></span>
<span><a (click)="clicked(2)">Clear Field</a></span>
</div>
</div>

<div *ngIf="!published && !cleared" id="pest-form-container">  

    <form #f="ngForm"  
          (ngSubmit)="addSpotting(f.value)"  
          >


<div class="field">  
    <p-dropdown [(ngModel)]="formdata.field" [styleClass]="inputs" id="field" name="field" placeholder="Location" [options]="fieldsSelection"></p-dropdown>
    </div>

      <div class="field">  
        <input type="text"  
               id="pestName"  
               placeholder="Product"  
               name="pestname" [(ngModel)]="formdata.name" required>  
      </div>

      
      <div class="field">  
        <input type="text"  
               id="applier"  
               placeholder="Applier"  
               name="pestname" [(ngModel)]="formdata.applier" required>  
      </div>

         <div class="field">  
        <input type="text"  
               id="applier"  
               placeholder="Amount [l/ha]"  
               name="pestname" [(ngModel)]="formdata.amount" required>  
      </div>

         <div class="field">  
        <input type="text"  
               id="applier"  
               placeholder="Price [â‚¬/l]"  
               name="pestname" [(ngModel)]="formdata.price" required>  
      </div>

    
    <div class="field">    
    <p-calendar name="date" [styleClass]="inputss" [inputStyleClass]="inputs" placeholder="Date" [(ngModel)]="formdata.date"></p-calendar> 
    </div>

    <button id="submit" type="submit">Save</button>  
    </form>  
  </div>  
</div>
  <bottom-bar></bottom-bar>